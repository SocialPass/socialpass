{% extends "bases/base_primary.html" %}
{% load static get_theme_value get_user_primary_email %}

{% block head_title %}Create Ticket - {% get_theme_value "brand_name" %}{% endblock head_title %}

{% block navbar_breadcrumb %}Create Ticket{% endblock %}

{% block content %}
<!-- Header start -->
<div class="border-bottom hs-md-100">
	<div class="p-content d-flex h-100">
		<div class="align-self-center">
			<h1 class="content-title m-0 fs-base-p6">Create Ticket</h1>
			<p class="text-muted mt-5 mt-5 mb-0 fs-base-n2">
				Use the following form to create a ticket for <strong>{{ event.title }}</strong>.
			</p>
		</div>
	</div>
</div>
<!-- Header end -->

<!-- Content card start -->
<div class="card rounded-0 border-top-transparent border-start-0 border-end-0 p-0 m-0">
	<!-- Card header start -->
	<div class="px-card py-10 border-bottom">
		<span class="d-inline-block bg-primary-very-light-lm bg-primary-very-dim-dm border-start border-primary border-2 px-10 py-5 fs-base-n2 fw-bold">
			Ticket Form
		</span>
	</div>
	<!-- Card header end -->

	<!-- Main content start -->
	<div class="row">
		<div class="col-lg-9 col-xl-7 mx-auto">
			<div class="content">
				<div class="alert alert-primary d-flex align-items-center mb-30" role="alert">
					<i class="fa-regular fa-info-circle me-10"></i>
					<span>
						You're creating a ticket for <a href="{% url 'dashboard:event_tickets' current_team.public_id event.pk %}" class="alert-link">{{ event.title }}</a>.
					</span>
				</div>

				<!-- Form start -->
				<form method="POST">
					{% csrf_token %}

					{% if form.non_field_errors %}
						<div class="alert alert-danger" role="alert">
							<ul class="invalid-feedback">
								{% for error in form.non_field_errors %}
									<li>{{ error|escape }}</li>
								{% endfor %}
							</ul>
						</div>
					{% endif %}

					{% for input in form.hidden_fields %}
						{{ input }}
					{% endfor %}

					<!-- Information start -->
					<h3 class="fs-base-p4 mb-0 d-flex align-items-center" id="basic-information">
						<span class="ws-25 me-10 text-primary">
							<i class="fa-light fa-ballot-check"></i>
						</span>
						Information
					</h3>
					<p class="text-muted fs-base-n2 mt-5">
						Name your ticket and add in capacity numbers.
					</p>
					{% with form.ticket_type as input %}
						{% include 'components/forms_inputs/input.html' %}
					{% endwith %}
					{% with form.capacity as input %}
						{% include 'components/forms_inputs/input.html' %}
					{% endwith %}
					{% with form.max_per_person as input %}
						{% include 'components/forms_inputs/input.html' %}
					{% endwith %}
					<!-- Information end -->

					<!-- Submit button start -->
					<hr />
					<div class="form-group text-end">
						<button type="submit" class="btn btn-primary">Save Ticket</button>
					</div>
					<!-- Submit button end -->
				</form>
				<!-- Form end -->
			</div>
		</div>
	</div>
	<!-- Main content start -->

	<!-- Card footer start -->
	<div class="px-card py-10 border-top text-muted fs-base-n2">
		Please <a href="https://nftylabs.typeform.com/to/A70KW4vo" target="_blank" class="fw-bold">contact us</a> and let us know if you need help managing your tickets.
	</div>
	<!-- Card footer end -->
</div>
<!-- Content card end -->
{% endblock content %}
