<!DOCTYPE html>
<html lang="en">
  <head>
  <!-- Meta tags -->
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />

  <!-- Title -->
  <title>SocialPass - Hosting the Next Generation of Events</title>

  <!-- Fav icon -->
  <link rel="icon" href="https://res.cloudinary.com/nfty-labs/image/upload/v1652735850/SocialPass-Icon_eanblz.svg">

  <!-- Halfmoon CSS -->
  <link href="/src/static/socialpass-theme/halfmoon.css" rel="stylesheet" />
  <link href="/src/static/socialpass-theme/socialpass-theme.css" rel="stylesheet" />

  <!-- Rubik font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;600;700&display=swap" rel="stylesheet">

  <!-- Font Awesome 6 -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <script src="https://kit.fontawesome.com/e222fd7f73.js" crossorigin="anonymous"></script>
  <!-- SEO -->
  <meta name="description" content="Offering hosted solutions and packaged SDKs to grow and manage your Web3 Community.">
  <meta name="author" content="SocialPass">
  <meta name="keywords" content="web3, nft, web2, bayc, crypto, ticketing, ticket">

  <!-- Open graph -->
  <meta property="og:type" content="article">
  <meta property="og:url" content="https://socialpass.io">
  <meta property="og:title" content="SocialPass - Hosting the Next Generation of Events">
  <meta property="og:description" content="SocialPass is the go-to events platform, powered by Web3">
  <meta property="og:image" content="https://res.cloudinary.com/nfty-labs/image/upload/v1652735701/SocialPass-OG-Image_z35jn3.png">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@socialpass_io">

  <!-- Scripts -->
  <script>window.global = window;</script>
  <script type="module">
    import process from "process";
    import { Buffer } from "buffer";
    import EventEmitter from "events";

    const devURL = "http://localhost:8000/api";
    const baseURL = import.meta.env.PROD ? prodURL : devURL;

    window.process = process;
    window.Buffer = Buffer;
    window.EventEmitter = EventEmitter;

    const public_id = location.pathname.split('/')[1]

    const response = fetch(`${baseURL}/checkout-portal/v1/retrieve/${public_id}/`)
        .then(response => response.json())
        .then(data => {
          const theme_name = data.team.theme.css_theme;
          const brand_name = data.team.theme.brand_name;
          let link = document.createElement( "link" );
          let favIcon = document.createElement( "link" );
          if(theme_name){
            link.href = `/src/static/${theme_name}`;
            favIcon.rel = "icon"
            favIcon.href = `/src/static/images/${brand_name}-icon.svg`

            //all the svg logo assets needs to bee added to the folder following the pattern: {brand_name}-icon
            document.getElementById("SocialPassHeaderIcon").src = `/src/static/images/${brand_name}-icon.svg`
          }
          link.type = "text/css";
          link.rel = "stylesheet";
          link.media = "screen,print";


          document.getElementsByTagName( "head" )[0].appendChild( link );
          document.getElementsByTagName( "head" )[0].appendChild( favIcon );

        })

  </script>
  </head>
  <body>
  <div id="root"></div>
  <script type="module" src="/src/main.tsx"></script>
  <script src="/src/static/js/halfmoon.js"></script>
  </body>
</html>
